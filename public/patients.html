<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Patient Records</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js"></script>

</head>
<body>
  <div class="container">
    <!-- Navigation Bar -->
    <nav>
      <a href="index.html">Home</a>
      <a href="patients.html">Patients</a>
      <a href="providers.html">Providers</a>
      <button onclick="toggleDarkMode()">ðŸŒ“ Dark Mode</button>
    </nav>

    <h1>Patient Records</h1>

    <!-- Add Patient Form -->
    <form onsubmit="addPatientForm(event)">
      <input name="first" placeholder="First Name" required />
      <input name="last" placeholder="Last Name" required />
      <input name="disease" placeholder="Disease" required />

      <!-- Medication Multi-Selection -->
      <div id="medication-selection">
        <label for="medCount"><strong>How many medications?</strong></label>
        <input
          type="number"
          id="medCount"
          min="1"
          max="5"
          value="1"
          onchange="generateMedicationDropdowns()"
          required
        />

        <div id="medicationDropdowns"></div>

        <!-- Hidden input to store JSON string of meds -->
        <input type="hidden" name="medications" required />
      </div>

      <input name="description" placeholder="Description" required />
      <button type="submit">Add Patient</button>
    </form>

    <div id="selected-medication-preview"></div>

    <!-- Patient Table -->
    <table id="patients-table">
      <thead>
        <tr>
          <th>#</th>
          <th>First</th>
          <th>Last</th>
          <th>Disease</th>
          <th>Medications</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <script src="script.js"></script>
  <script>
    // Initialize medication dropdowns on page load
    window.onload = function () {
      generateMedicationDropdowns();
      loadPatients();
    };
  </script>
</body>
</html>
